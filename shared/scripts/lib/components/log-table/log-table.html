<table class="pure-table pure-table-bordered pure-table-striped">
  <thead>
    <tr>
      <th>Domain</th>
      <th>Author</th>
      <th>Visit count</th>
      <th>Time spent</th>
      <th>Last time visited</th>
    </tr>
  </thead>

  <tbody>
  {%if not entries.length%}
    <tr>
      <td colspan="5">No log items to display.</td>
    </tr>
  {%else%}
    {%each entries as entry%}
    <tr class="{{entry|hasAuthor}}-author"> 
      <td>
        <div class="relative">
          {%if entry.favicon%}
          <img data-host="{{entry.host}}" class="favicon" src="{{entry.favicon}}">
          {%else%}
          <i data-host="{{entry.host}}" class="missing favicon"></i>
          {%endif%}
          {{entry.host}}
        </div>
      </td>
      <td>
        {%if entry.authorCount%}
          Has author information
        {%else%}
          No author information
        {%endif%}
      </td>
      <td>{{entry.entries.length}}</td>
      <td>{{entry.entries|timeSpent}}</td>
      <td>{{entry.entries|findLast|formatAccessTime}}</td>
    </tr>
    <tr class="entry-history">
      <td colspan="5">
        <table class="pure-table pure-table-bordered pure-table-striped">
          <thead>
            <tr>
              <th>Access time</th>
              <th>URL</th>
              <th>Author information</th>
            </tr>
          </thead>

          <tbody>
            {%each entry.entries as visit%}
              <tr>
                <td>{{visit|formatAccessTime}}</td>
                <td><a href="{{visit.tab.url}}" target="_blank">{{visit.tab.url}}</a></td>
                <td>
                  {%if visit.author.list.length%}
                    {%if visit.author.list.0.name%}
                      {{visit.author.list.0.name}}
                    {%else%}
                      <a href="{{ visit.author.list.0.href }}" target="_blank">Encourage to Tipsy</a>
                    {%endif%}
                  {%else%}
                  No author tag present
                  {%endif%}
                </td>
              </tr>
            {%endeach%}
          </tbody>
        </table>
      </td>
    </tr>
    {%endeach%}
  {%endif%}
  </tbody>
</table>
